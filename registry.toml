# ABOUTME: Tool completion registry for mise-completions-sync.
# ABOUTME: Patterns define command templates; tools reference patterns or specify explicit commands.

schema_version = 1

[patterns]
# {} is replaced with the tool name at load time
standard = { zsh = "{} completion zsh", bash = "{} completion bash", fish = "{} completion fish" }
completions = { zsh = "{} completions zsh", bash = "{} completions bash", fish = "{} completions fish" }
gh_style = { zsh = "{} completion -s zsh", bash = "{} completion -s bash", fish = "{} completion -s fish" }
generate_shell = { zsh = "{} generate-shell-completion zsh", bash = "{} generate-shell-completion bash", fish = "{} generate-shell-completion fish" }
gen_completions = { zsh = "{} gen-completions --shell zsh", bash = "{} gen-completions --shell bash", fish = "{} gen-completions --shell fish" }

[tools]
# Core tools
mise = "standard"
kubectl = "standard"
helm = "standard"
docker = "standard"
gh = "gh_style"
glab = "gh_style"

# Kubernetes ecosystem
k9s = "standard"
kind = "standard"
minikube = "standard"
kustomize = "standard"
argocd = "standard"
flux = "standard"
istioctl = "standard"
k3d = "standard"
ko = "standard"
krew = "standard"
kubeseal = "standard"
linkerd = "standard"
skaffold = "standard"
stern = "standard"
tilt = "standard"
velero = "standard"

# Rust ecosystem
rustup = "completions"
deno = "completions"
starship = "completions"
uv = "generate_shell"
ruff = "generate_shell"
ty = "generate_shell"
hyperfine = "generate_shell"
mdbook = "generate_shell"
atuin = "gen_completions"
gitu = "gen_completions"
gitui = "gen_completions"

# Python tools
poetry = "completions"

# Cloud CLIs
flyctl = "standard"
doctl = "standard"
oci = "standard"

# Container tools
podman = "standard"
nerdctl = "standard"
trivy = "standard"
cosign = "standard"

# Dev tools
chezmoi = "standard"
cue = "standard"
dagger = "standard"
golangci-lint = "standard"
goreleaser = "standard"
grpcurl = "standard"
hugo = "standard"
lazygit = "standard"
mkcert = "standard"
oc = "standard"
pulumi = "standard"
restic = "standard"
saml2aws = "standard"
step = "standard"
xh = "standard"

# Lefthook uses completions pattern
lefthook = "completions"

# Tools with explicit commands (unique patterns or partial shell support)

# Partial shell support (zsh only)
bun = { zsh = "bun completions" }

# Partial shell support (zsh + bash)
npm = { zsh = "npm completion", bash = "npm completion" }
pnpm = { zsh = "pnpm completion zsh", bash = "pnpm completion bash" }
gcloud = { zsh = "gcloud completion zsh", bash = "gcloud completion bash" }
kubectx = { zsh = "kubectx completion zsh", bash = "kubectx completion bash" }
vercel = { zsh = "vercel completion zsh", bash = "vercel completion bash" }
sops = { zsh = "sops completion zsh", bash = "sops completion bash" }

# Cargo uses rustup
cargo = { zsh = "rustup completions zsh cargo", bash = "rustup completions bash cargo", fish = "rustup completions fish cargo" }

# pipx uses argcomplete
pipx = { zsh = "register-python-argcomplete pipx", bash = "register-python-argcomplete pipx" }

# Unique command patterns
just = { zsh = "just --completions zsh", bash = "just --completions bash", fish = "just --completions fish" }
task = { zsh = "task --completion zsh", bash = "task --completion bash", fish = "task --completion fish" }
bat = { zsh = "bat --completion zsh", bash = "bat --completion bash", fish = "bat --completion fish" }
fd = { zsh = "fd --gen-completions zsh", bash = "fd --gen-completions bash", fish = "fd --gen-completions fish" }
delta = { zsh = "delta --generate-completion zsh", bash = "delta --generate-completion bash", fish = "delta --generate-completion fish" }
zellij = { zsh = "zellij setup --generate-completion zsh", bash = "zellij setup --generate-completion bash", fish = "zellij setup --generate-completion fish" }

# rg has unique --generate complete-{shell} pattern
rg = { zsh = "rg --generate complete-zsh", bash = "rg --generate complete-bash", fish = "rg --generate complete-fish" }
ripgrep = { zsh = "rg --generate complete-zsh", bash = "rg --generate complete-bash", fish = "rg --generate complete-fish" }

# zoxide uses init instead of completion
zoxide = { zsh = "zoxide init zsh", bash = "zoxide init bash", fish = "zoxide init fish" }

# fzf has unique shell flags
fzf = { zsh = "fzf --zsh", bash = "fzf --bash", fish = "fzf --fish" }

# nix needs extra experimental features flag
nix = { zsh = "nix --extra-experimental-features 'nix-command' completion zsh 2>/dev/null || true", bash = "nix --extra-experimental-features 'nix-command' completion bash 2>/dev/null || true", fish = "nix --extra-experimental-features 'nix-command' completion fish 2>/dev/null || true" }
